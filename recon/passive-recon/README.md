# Passive Recon

## TheHarvester {#recon}

```text
$ theharvester -d cisco.com -b google > google.txt
​$ theharvester -d cisco.com -l 10 -b bing > bing.txt​
```

## Whois

```text
​$ whois <ip-address>
$ whois <domain-name>

Ex: 
$ whois google.com
```

## Recon-ng

```text
​$ recon-ng
[recon-ng][default] > use recon/domains-contacts/whois_pocs
[recon-ng][default] > use recon/domains-vulnerabilities/xssed
[recon-ng][default] > use recon/domains-hosts/google_site_web
```

## DNS Enumeration {#dns-enumeration}

```text
$ host -t ns <domain-name>
​$ host -t mx <domain-name>
$ host www.<domain-name>
```

### Using a List of Common Host Names {#using-a-list-of-common-host-names}

```text
$ for x in $(cat list.txt);do host $x.<domain-name>;done
```

### Reverse Lookup Brute Force {#reverse-lookup-brute-force}

```text
$ for ip in $(seq 1 254);do host 1.1.1.$ip;done |grep -v "not found"
```

### DNS Zone Transfers {#dns-zone-transfers}

```text
$ host -l <domain-name> <DNS-Server-IP>
$ host -l example.com ns1.example.com

​$ host -t ns <domain-name> | cut -d " " -f 4​

$ dnsrecon -d <domain-name> -t axfr

​$ dnsenum <domain-name>
```

## Capturing Packets

### Parsing Info From \*.pcap Files

```text
$ tcpdump -r example.pcap​

$ tcpdump -n -r example.pcap | awk -F" " '{print $3}'|sort -u | head

​$ tcpdump -n src host <RHOST> -r example.pcap

​$ tcpdump -n dst host <RHOST> -r example.pcap
​
$ tcpdump -n port 81 -r example.pcap
​
$ tcpdump -nX -r example.pcap

$ tcpdump -A -n 'tcp[13] = 24' -r example.pcap
```

